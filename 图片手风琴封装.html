<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>图片手风琴封装</title>
		<style type="text/css">
			*{margin: 0;padding: 0;}
			ul,ul li{list-style: none;}
			.container{width: 1200px;height: 400px;border:2px solid #000;margin: 100px auto;}
			li{width: 240px;height: 400px;float: left;}
		</style>
		<script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(function(){
				
				$.fn.accordion = function(colors,width){
					
					var $li = this.find('li');
					//width：传进来的宽度，boxLength：ul的宽度
					var boxLength = this.width();
					//最大宽度
					var maxLength = boxLength - ($li.length-1)*width;
					//平均宽度
					var avgLength = boxLength /$li.length; 
					
					//遍历ul，将颜色赋值给每一个Li
				    $li.each(function(i,e){
				    	$(e).css('background-color',colors[i]);
				    });
				    
				    //给li注册鼠标经过事件
				     $li.mouseenter(function(){
				     	$(this).stop().animate({width:maxLength}).siblings().stop().animate({width:width});
				     });
				     
				     
				     //鼠标离开后所有li恢复成原来的宽度
				     $li.mouseleave(function(){
				     	 $('.box li').stop().animate({width:avgLength});
				     });
				}
				
				var colors = ['green','blue','pink','cyan','purple'];
				$('.box').accordion(colors,50);
				
			})
		</script>
	</head>
	<body>
		<div class="container">
			<ul class="box">
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
		</div>
	</body>
</html>
